<form [formGroup]="registerForm" (ngSubmit)="submitForm()">
  <mat-form-field appearance="standard">
    <mat-label>College Name</mat-label>
    <input matInput placeholder="College Name" formControlName="college_name">
    <mat-hint>Hint</mat-hint>
  </mat-form-field>


  <p>
    <mat-form-field appearance="standard">
      <mat-label>College Code</mat-label>
      <input matInput placeholder="College Code" formControlName="college_code">
      <mat-hint>Hint</mat-hint>
    </mat-form-field>
  </p>

  <p>
    <mat-form-field appearance="standard">
      <mat-label>Faculty Name</mat-label>
      <input matInput placeholder="Faculty Name" formControlName="faculty_name">
      <mat-hint>Hint</mat-hint>
    </mat-form-field>
  </p>

  <p>
    <mat-form-field appearance="standard">
      <mat-label>Faculty Designation</mat-label>
      <input matInput placeholder="Faculty Designation" formControlName="faculty_designation">
      <mat-hint>Hint</mat-hint>
    </mat-form-field>
  </p>

  <p>
    <mat-form-field appearance="standard">
      <mat-label>Faculty Phone Number</mat-label>
      <input matInput placeholder="Faculty Phone Number" formControlName="faculty_phn_no">
      <mat-hint>Hint</mat-hint>
    </mat-form-field>
  </p>

  <p>
    <mat-form-field appearance="standard">
      <mat-label>Faculty Email</mat-label>
      <input matInput placeholder="Faculty Email" formControlName="faculty_email">
      <mat-hint>Hint</mat-hint>
    </mat-form-field>
  </p>

  <p *ngIf="events">
    <mat-form-field appearance="standard">
      <mat-select placeholder="Event" formControlName="event">
        <mat-option [value]="null">
          --- Select Event ----
        </mat-option>
        <mat-option *ngFor="let event of events" [value]="event.id">
          {{event.name}} -- ({{event.maxp}})
        </mat-option>
      </mat-select>
    </mat-form-field>
  </p>

  <p *ngIf="participants">
    <mat-form-field appearance="standard">
      <mat-select placeholder="Select Participants" formControlName="n_participants">
        <mat-option [value]="null">
          --- Select Participants ----
        </mat-option>
        <mat-option *ngFor="let participant of participants" [value]="participant">
          {{participant}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </p>

  <div formArrayName="participants">
    <h3>Participants</h3>

    <div *ngFor="let participant of registerForm.get('participants').controls; let i=index">
      <!-- The repeated alias template -->
      <div [formGroupName]="i">
        <p>
          <mat-form-field appearance="standard">
            <mat-label>Name of Student</mat-label>
            <input matInput placeholder="Name of Student" formControlName="name">
            <mat-hint>Hint</mat-hint>
          </mat-form-field>
          <mat-form-field appearance="standard">
            <mat-label>Fathers Name</mat-label>
            <input matInput placeholder="Fathers Name" formControlName="fathers_name">
            <mat-hint>Hint</mat-hint>
          </mat-form-field>
          <mat-form-field appearance="standard">
            <mat-label>University Roll.No</mat-label>
            <input matInput placeholder="University Roll.No" formControlName="university_roll">
            <mat-hint>Hint</mat-hint>
          </mat-form-field>
          <mat-form-field appearance="standard">
            <mat-label>Branch</mat-label>
            <input matInput placeholder="Branch" formControlName="branch">
            <mat-hint>Hint</mat-hint>
          </mat-form-field>
        </p>
        <p>
          <mat-form-field appearance="standard">
            <mat-label>Year</mat-label>
            <input matInput placeholder="Year" formControlName="year">
            <mat-hint>Hint</mat-hint>
          </mat-form-field>
          <mat-form-field appearance="standard">
            <mat-label>Gender</mat-label>
            <input matInput placeholder="Gender" formControlName="gender">
            <mat-hint>Hint</mat-hint>
          </mat-form-field>
          <mat-form-field appearance="standard">
            <mat-label>Aadhar Number</mat-label>
            <input matInput placeholder="Aadhar Number" formControlName="aadhar_no">
            <mat-hint>Hint</mat-hint>
          </mat-form-field>
          <mat-form-field appearance="standard">
            <mat-label>Phone No.</mat-label>
            <input matInput placeholder="Phone No." formControlName="phn_no">
            <mat-hint>Hint</mat-hint>
          </mat-form-field>
          <mat-form-field appearance="standard">
            <mat-label>Email</mat-label>
            <input matInput placeholder="Email" formControlName="email">
            <mat-hint>Hint</mat-hint>
          </mat-form-field>
        </p>
      </div>
    </div>
  </div>
  <div>
      <button mat-raised-button color="primary" type="submit" [disabled]="!registerForm.valid">Submit</button>
  </div>

</form>